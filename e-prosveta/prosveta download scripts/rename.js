const fs = require('fs');
const path = require('path');
const process = require("process");

const dir = "./songs";
const songsJSON = [{"filename":"1561966288-5d19b6d012ede8.02949996.mp3","title":"Видове хорове - примери"},{"filename":"1561979164-5d19e91c8ee9e7.78597502.mp3","title":"Довиждане лято"},{"filename":"1561985309-5d1a011ddf86f2.62110950.mp3","title":"Довиждане лято - инструментал"},{"filename":"1561967588-5d19bbe42b76b1.47017582.mp3","title":"Старият замък"},{"filename":"1561968097-5d19bde1dd04d1.11588773.mp3","title":"Музикална гатанка  1"},{"filename":"1561986399-5d1a055f609d29.19631446.mp3","title":"Приспивна – Йоханес Брамс"},{"filename":"1561968097-5d19bde1dd04d1.11588773.mp3","title":"Музикална гатанка  1"},{"filename":"1561968346-5d19beda7032d7.73815140.mp3","title":"Самолети"},{"filename":"1561986604-5d1a062c765580.76137085.mp3","title":"Из Симфония  6, IV ч. – Бетовен"},{"filename":"1561968463-5d19bf4f152db1.52962930.mp3","title":"Шумови откъси - примери"},{"filename":"1561979427-5d19ea23d6b396.66898914.mp3","title":"Еко рап"},{"filename":"1561985341-5d1a013d07e833.99225591.mp3","title":"Еко рап - инструментал"},{"filename":"1561968560-5d19bfb05824b5.45091108.mp3","title":"Вокална музика - примери"},{"filename":"1561968624-5d19bff016be08.81255719.mp3","title":"Ария на Мефистофел"},{"filename":"1561986677-5d1a067597dd40.22509723.mp3","title":"Щастието"},{"filename":"1561986695-5d1a06875360c3.35790792.mp3","title":"Щастието - инструментал"},{"filename":"1561986750-5d1a06be116b41.01932173.mp3","title":"Танц на Бонбонената фея – Чайковски"},{"filename":"1561968808-5d19c0a8980307.05049120.mp3","title":"Полетът на бръмбара - тембри"},{"filename":"1561969330-5d19c2b24da082.31609823.mp3","title":"Ударни инструменти - примери"},{"filename":"1561979631-5d19eaeff01d30.58513048.mp3","title":"Ще пътувам по света"},{"filename":"1561985415-5d1a0187bbe035.85618611.mp3","title":"Ще пътувам по света - инструментал"},{"filename":"1548935003-5c52df5b024e86.85186152","title":"Комбинации от трайности. Размер 4-4"},{"filename":"1561969413-5d19c3051ca2e3.26355423.mp3","title":"Спомен за цирк Ренц"},{"filename":"1561969611-5d19c3cb83eac8.71696148.mp3","title":"Ритмична игра"},{"filename":"1561984515-5d19fe03ed0061.95721693.mp3","title":"Камилска история"},{"filename":"1561984688-5d19feb0f37ee4.13409743.mp3","title":"Камилска история (инструментал)"},{"filename":"1574416553-5dd7b0a9013445.33386936.mp4","title":" Съпровод, разучаване с пляскане"},{"filename":"1574416576-5dd7b0c0867fa0.49923324.mp4","title":"Съпровод, разучаване с инструменти"},{"filename":"1574416598-5dd7b0d6f0a8a2.62466690.mp4","title":"Камилска история (съпровод)"},{"filename":"1561985681-5d1a02915bf0c2.95701688.mp3","title":"АЙ ДА ИДЕМ, ЯНО"},{"filename":"1561985687-5d1a029788f9a3.66854101.mp3","title":"АЙ ДА ИДЕМ, ЯНО (инструментал)"},{"filename":"1561986887-5d1a074716e541.06262780.mp3","title":"Ширто"},{"filename":"1561970220-5d19c62c5467f4.59033136.mp3","title":"Духови инструменти - примери"},{"filename":"1561986943-5d1a077f07e8b5.64572000.mp3","title":"Из Скок – Дико Илиев"},{"filename":"1561986911-5d1a075fd23559.18479634.mp3","title":"Велик е нашият войник"},{"filename":"1561970942-5d19c8fe221173.07015923.mp3","title":"Буги-вуги"},{"filename":"1561980225-5d19ed41eb45f9.24091881.mp3","title":"Танцувай буги"},{"filename":"1561986971-5d1a079b930cd3.58683581.mp3","title":"Танцувай буги - инструментал"},{"filename":"1561971033-5d19c959718ec9.00253748.mp3","title":"Равномерно броене - примери"},{"filename":"1561971133-5d19c9bd674e16.93637152.mp3","title":"Дунавско хоро - Дико Илиев"},{"filename":"1561971212-5d19ca0c695673.00224130.mp3","title":"Неравномерно броене - примери"},{"filename":"1561980357-5d19edc52df8a8.90191441.mp3","title":"Смок свири на върба"},{"filename":"1561987029-5d1a07d5870cc1.24450201.mp3","title":"Смок свири на върба - инструментал"},{"filename":"1561971246-5d19ca2ebd9d51.96641293.mp3","title":"Народни инструменти - примери"},{"filename":"1561987074-5d1a08027d1ea7.88230845.mp3","title":"Ръченица"},{"filename":"1561987115-5d1a082bbd3aa9.12432108.mp3","title":"Седенчица"},{"filename":"1561987127-5d1a0837856489.34500930.mp3","title":"Седенчица (инструментал)"},{"filename":"1561987220-5d1a0894ccf574.05304987.mp3","title":"НЕДО ЛЕ, НЕДКЕ (инструментал)"},{"filename":"1561986943-5d1a077f07e8b5.64572000.mp3","title":"Из Скок – Дико Илиев"},{"filename":"1561987330-5d1a0902644df1.32609513.mp3","title":"Първият етюд"},{"filename":"1561987344-5d1a09105ee445.57424444.mp3","title":"Първият етюд (инструментал)"},{"filename":"1561987361-5d1a0921ded036.97768795.mp3","title":"Сватбен марш - Ф.  Менделсон Бартолди"},{"filename":"1548935689-5c52e209e32205.95363596","title":"Музикални инструменти – наименования"},{"filename":"1561973304-5d19d2380e3b75.92809428.mp3","title":"Струнни инструменти - примери"},{"filename":"1561973195-5d19d1cb9f89e3.10940926.mp3","title":"Капричио  24 - Николо Паганини"},{"filename":"1561973547-5d19d32b7d5300.72094600.mp3","title":"Из Испанско капричио - Н. Римски-Корсаков"},{"filename":"1561987479-5d1a099762af23.58944313.mp3","title":"Музикална загадка"},{"filename":"1547216070.mp3","title":"Вълшебните думи"},{"filename":"1547215967.mp3","title":"Вълшебните думи (инструментал)"},{"filename":"1561986750-5d1a06be116b41.01932173.mp3","title":"Танц на Бонбонената фея – Чайковски"},{"filename":"1561973591-5d19d3579a80b7.02300037.mp3","title":"Музикална гатанка  2"},{"filename":"1561980613-5d19eec55a8345.73623517.mp3","title":"Веселите духчета"},{"filename":"1561980648-5d19eee8989b68.95278487.mp3","title":"Веселите духчета - инструментал"},{"filename":"1561975255-5d19d9d7ddc5a3.70158482.mp3","title":"Ритъм"},{"filename":"1574416528-5dd7b0906bc4d3.05757737.mp4","title":"Ритмични модели"},{"filename":"1574416501-5dd7b075a05747.54702431.mp4","title":"Ритъм съпровод с ритмични модели"},{"filename":"1561975382-5d19da56dd9564.96970346.mp3","title":"Музикална въртележка"},{"filename":"1561987649-5d1a0a41ba95a3.82933596.mp3","title":"Зимболе"},{"filename":"1561987656-5d1a0a48844958.93492179.mp3","title":"Зимболе - инструментал"},{"filename":"1574416617-5dd7b0e9726898.40374372.mp4","title":"Зимболе съпровод"},{"filename":"1561967588-5d19bbe42b76b1.47017582.mp3","title":"Старият замък"},{"filename":"1561975719-5d19dba7ccbe47.01644210.mp3","title":"Баба Яга"},{"filename":"1562659377-5d244a318c7e50.59348495.mp3","title":"Танц на неизлюпените пиленца"},{"filename":"1561975865-5d19dc39d81ad7.61576286.mp3","title":"Морета и земя – Вл. Джамбазов"},{"filename":"1561975922-5d19dc7282c147.11746965.mp3","title":"Музикална гатанка 3"},{"filename":"1561981005-5d19f04d5a1187.45338540.mp3","title":"Крила от мечти"},{"filename":"1561981027-5d19f063afcf15.16933515.mp3","title":"Крила от мечти - инструментал"},{"filename":"1561976042-5d19dcea671156.44431114.mp3","title":"Вариации върху старинна френска песен - Моцарт"},{"filename":"1561976215-5d19dd9797b254.66316973.mp3","title":"Звездичка"},{"filename":"1561976288-5d19dde05805c9.09412147.mp3","title":"Музикална загадка"},{"filename":"1561977362-5d19e2127d7588.83961692.mp3","title":"На Елиза"},{"filename":"1561986604-5d1a062c765580.76137085.mp3","title":"Из Симфония  6, IV ч. – Бетовен"},{"filename":"1561987999-5d1a0b9f5ca7e0.79741307.mp3","title":"Музикална загадка"},{"filename":"1561981199-5d19f10f5efb51.74480576.mp3","title":"Децата искат"},{"filename":"1561987932-5d1a0b5cd2b248.76921733.mp3","title":"Децата искат - инструментал"},{"filename":"1561981325-5d19f18d4b9db9.93415113.mp3","title":"Без радио не мога"},{"filename":"1561988059-5d1a0bdb05dd21.77312231.mp3","title":"Без радио не мога (инструментал)"},{"filename":"1561988170-5d1a0c4ad6fde9.39316131.mp3","title":"Музикална загадка"},{"filename":"1561977362-5d19e2127d7588.83961692.mp3","title":"На Елиза"},{"filename":"1561976615-5d19df275d6af1.45537379.mp3","title":"Фолклорна плетеница"},{"filename":"1561977075-5d19e0f307d249.80338732.mp3","title":"Ритмична загадка 1"},{"filename":"1561981374-5d19f1bece4218.37495298.mp3","title":"Замръкнала е хубава Яна"},{"filename":"1561988217-5d1a0c79dcbbe8.58267708.mp3","title":"Замръкнала е хубава Яна - инструментал"},{"filename":"1561977183-5d19e15f36b2f4.07103907.mp3","title":"Ритмична загадка 2"},{"filename":"1561975719-5d19dba7ccbe47.01644210.mp3","title":"Баба Яга"},{"filename":"1561981571-5d19f28314dfc5.86785859.mp3","title":"До-ре-ми рок"},{"filename":"1561988297-5d1a0cc9e83bb4.96273001.mp3","title":"До-ре-ми рок - инструментал"},{"filename":"1574416300-5dd7afacc1e299.34056801.mp4","title":"Модел 1 Миене на ръце”"},{"filename":"1574416329-5dd7afc9603db9.62700851.mp4","title":"Модел 2 Ритъм с лъжичка”"},{"filename":"1574416356-5dd7afe4de3a54.10775706.mp4","title":"Модел 3 Ритъм с чаша”"},{"filename":"1561977632-5d19e320392297.30326245.mp3","title":"Благослов"},{"filename":"1561981823-5d19f37f537203.25745069.mp3","title":"Стани нине, господине"},{"filename":"1561988353-5d1a0d011771c4.79502594.mp3","title":"Стани нине, господине - инструментал"},{"filename":"1561977576-5d19e2e85723b5.60162600.mp3","title":"Jingle bells"},{"filename":"1561981640-5d19f2c8447140.53365236.mp3","title":"Снежен сън"},{"filename":"1561988326-5d1a0ce60a1f12.51861916.mp3","title":"Снежен сън - инструментал"},{"filename":"1574416273-5dd7af913268e2.43954329.mp4","title":"Куплет - съпровод, разучаване с пляскане"},{"filename":"1574416247-5dd7af77e80619.65706477.mp4","title":"Куплет - съпровод, разучаване с инструменти"},{"filename":"1574416419-5dd7b0238c43f5.13384569.mp4","title":"Припев - съпровод, разучаване с пляскане"},{"filename":"1574416440-5dd7b038d9e822.40641675.mp4","title":"Припев - съпровод, разучаване с инструменти"},{"filename":"1574416211-5dd7af5379e130.68992436.mp4","title":"Jingle Bells - съпровод"},{"filename":"1561981918-5d19f3de9f00c8.07666682.mp3","title":"Витлеемска звезда"},{"filename":"1561988381-5d1a0d1dc985c6.94822769.mp3","title":"Витлеемска звезда - инструментал"},{"filename":"1561988406-5d1a0d36962de6.50255592.mp3","title":"Коледа"},{"filename":"1561977362-5d19e2127d7588.83961692.mp3","title":"На Елиза"},{"filename":"1561977812-5d19e3d43bd113.29028066.mp3","title":"Хоп-троп"},{"filename":"1561982260-5d19f5343952c9.34613999.mp3","title":"Само лято"},{"filename":"1561988744-5d1a0e884ee6d1.03142164.mp3","title":"Само лято - инструментал"},{"filename":"1537538638","title":"Дайчово хоро"},{"filename":"1561976042-5d19dcea671156.44431114.mp3","title":"Вариации върху старинна френска песен - Моцарт"},{"filename":"1561975719-5d19dba7ccbe47.01644210.mp3","title":"Баба Яга"},{"filename":"1561978432-5d19e6405fed78.84649759.mp3","title":"Музикална загадка"},{"filename":"1574416466-5dd7b052e51a03.14695654.mp4","title":"Равномерно пляскане на 4"},{"filename":"1574416387-5dd7b003cf1e28.90396109.mp4","title":"Неравномерно пляскане на 4"},{"filename":"1548935689-5c52e209e32205.95363596","title":"Музикални инструменти – наименования"},{"filename":"1561978943-5d19e83fe9a4e5.88346358.mp3","title":"Весел пъзел"},{"filename":"1561977362-5d19e2127d7588.83961692.mp3","title":"На Елиза"},{"filename":"1561988860-5d1a0efcc73152.09562786.mp3","title":"Музикална загадка"},{"filename":"1561978804-5d19e7b4b1ca98.39282259.mp3","title":"Видове оркестри - примери"},{"filename":"1561986134-5d1a04569b54b2.04325743.mp3","title":"Музикална загадка 1"}];

fs.readdir(dir, function (err, files) {
  if (err) {
    console.error("Could not list the directory.", err);
    process.exit(1);
  }

  files.forEach(function (file, index) {
    const fromPath = path.join(dir, file);
	const song = songsJSON.find(s => s.filename === file);
	
	if (song) {
		const ext = file.split('.').slice(-1)[0];
		const newName = song.title + '.' + ext;
		const toPath = path.join(dir, newName);
		
		fs.rename(fromPath, toPath, function (error) {
		  if (error) {
			console.error("File renaming error.", error);
		  } else {
			console.log("Renamed file '%s' to '%s'.", fromPath, toPath);
		  }
		});
	}
  });
});